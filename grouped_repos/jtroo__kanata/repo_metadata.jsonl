{"repo":"jtroo/kanata","pull_number":454,"instance_id":"jtroo__kanata-454","issue_numbers":[449],"base_commit_sha":"98625e972e2ee18cbff73f5d2110fe68159927a3","patch":"diff --git a/src/trie.rs b/src/trie.rs\nindex 60a0d74..31f2696 100644\n--- a/src/trie.rs\n+++ b/src/trie.rs\n@@ -53,7 +53,9 @@ impl Trie {\n                         }\n                     }\n                     None => {\n-                        unreachable!(\"subtrie should have a key\")\n+                        // Note: None happens if there are multiple children. The sequence is still\n+                        // in the trie.\n+                        InTrie\n                     }\n                 }\n             }\n","test_patch":"","problem_statement":"Bug: kanata crashes randomly when typing a sequence in the latest build\n**Describe the bug**\r\nwhen i type a sequence, i get this error: \r\nthread '<unnamed>' panicked at 'internal error: entered unreachable code: subtrie should have a key', src\\trie.rs:56:25\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\nerror: process didn't exit successfully: `target\\release\\kanata.exe --cfg c:/users/rizq/documents/doffed-kanata.kbd` (exit code: 0xc0000409, STATUS_STACK_BUFFER_OVERRUN)\r\n","pull_message":"fix: sequence mode crashing\n","hints":[],"created_at":"2023-06-19T03:32:06Z","cursor":"Y3Vyc29yOnYyOpK5MjAyMy0wNi0xOVQxMTozMjowNiswODowMM5TS3AA","merge_commit_sha":"f98cbf80b8fdf4589f90a404015c32bbd51b5452","test_files":[],"precommit_script":"","setup_command":"#!/usr/bin/env bash\nset -euo pipefail\n\n# Minimal environment setup for running tests in this Rust workspace.\n# This script avoids using sudo and installs rustup (and the Rust toolchain) if\n# cargo is not already present.\n\nif ! command -v cargo >/dev/null 2>&1; then\n  echo \"cargo not found, installing rustup and Rust toolchain...\"\n  # Install rustup (non-interactive)\n  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y\n  # Add cargo to PATH for the current session\n  export PATH=\"$HOME/.cargo/bin:$PATH\"\nelse\n  echo \"cargo found: $(cargo --version)\"\nfi\n\n# Ensure Python is available\nif ! command -v python3 >/dev/null 2>&1; then\n  echo \"python3 is required but not found. Please install Python3.\"\n  exit 1\nfi\n\n# No additional Python packages are required because test output is converted\n# to JUnit XML using the standard library.\n\necho \"setup complete\"\n\ncargo fetch --locked\n"}
