{"repo":"RustPython/RustPython","pull_number":1496,"instance_id":"RustPython__RustPython-1496","issue_numbers":[1404],"base_commit_sha":"cc76649567cf42188cbcdf8eac8ca401120e0d22","patch":"diff --git a/vm/src/obj/objtype.rs b/vm/src/obj/objtype.rs\nindex eaf6d187f..a3f781284 100644\n--- a/vm/src/obj/objtype.rs\n+++ b/vm/src/obj/objtype.rs\n@@ -199,6 +199,23 @@ impl PyClassRef {\n         Ok(())\n     }\n \n+    fn del_attr(self, attr_name: PyStringRef, vm: &VirtualMachine) -> PyResult<()> {\n+        if let Some(attr) = class_get_attr(&self.class(), attr_name.as_str()) {\n+            if let Some(ref descriptor) = class_get_attr(&attr.class(), \"__delete__\") {\n+                return vm\n+                    .invoke(descriptor, vec![attr, self.into_object()])\n+                    .map(|_| ());\n+            }\n+        }\n+\n+        if class_get_attr(&self, attr_name.as_str()).is_some() {\n+            self.attributes.borrow_mut().remove(attr_name.as_str());\n+            Ok(())\n+        } else {\n+            Err(vm.new_attribute_error(attr_name.as_str().to_string()))\n+        }\n+    }\n+\n     // This is used for class initialisation where the vm is not yet available.\n","test_patch":"","problem_statement":"An error occurs when deleting an attribute of a class.","pull_message":"Implement delattr for type object\nImplement delattr for type object","hints":[],"created_at":"2019-10-09T10:08:48Z","cursor":"Y3Vyc29yOnYyOpK5MjAxOS0xMC0wOVQxODowODo0OCswODowMM4TcQA8","merge_commit_sha":"e5c92d6fa2083471678181a5501660d9a7db8caf","test_files":[],"precommit_script":"","setup_command":"#!/usr/bin/env bash\nset -euo pipefail\n\n# Install Python test dependencies without using sudo or virtualenv\npython3 -m pip install --upgrade pip setuptools wheel\n","test_command":""}

{"repo":"RustPython/RustPython","pull_number":3472,"instance_id":"RustPython__RustPython-3472","issue_numbers":[3468],"base_commit_sha":"9fb70707c4803f9f6d79dd4c8077bd16f0a9be45","patch":"diff --git a/vm/src/builtins/slice.rs b/vm/src/builtins/slice.rs\nindex 68e5d6886..add827d7d 100644\n--- a/vm/src/builtins/slice.rs\n+++ b/vm/src/builtins/slice.rs\n@@ -368,13 +368,15 @@ impl SaturatedSliceIter {\n \n impl Iterator for SaturatedSliceIter {\n     type Item = usize;\n+\n     fn next(&mut self) -> Option<Self::Item> {\n         if self.len == 0 {\n             return None;\n         }\n         self.len -= 1;\n         let ret = self.index as usize;\n-        self.index += self.step;\n+        // SAFETY: if index is overflowed, len should be zero\n+        self.index = self.index.wrapping_add(self.step);\n         Some(ret)\n     }\n }","test_patch":"","problem_statement":"SaturatedSliceIter::next has overflow bug","pull_message":"fix #3468 SaturatedSliceIter overflow\nfixes #3468 ","hints":[],"created_at":"2021-11-28T09:18:32Z","cursor":"Y3Vyc29yOnYyOpK5MjAyMS0xMS0yOFQxNzoxODozMiswODowMM4vF2Dz","merge_commit_sha":"e740de697b1dfe6ae2e3841a0d7ae55e1e6bec12","test_files":[],"precommit_script":"","setup_command":"#!/usr/bin/env bash\nset -euo pipefail\n\n# Install Python test dependencies without using sudo or virtualenv\npython3 -m pip install --upgrade pip setuptools wheel\n","test_command":""}